(()=>{let e=!0;setTimeout((()=>{e=!1}),3600);let t=1600,n=0;const o=document.querySelectorAll(".scrolling-block"),i=document.querySelector(".lets__talk"),s=document.querySelector(".start__earning");let c=!1,l=!1,a=!1;function d(e){return 2!=e||c?3!=e||l?4!=e||a?void 0:(o[e].querySelector(".rm-active").click(),a=!0,a):(o[e].querySelector(".rm-active").click(),l=!0,l):(o[e].querySelector(".rm-active").click(),c=!0,c)}function f(){return n+1!==o.length?(n++,o[n-1].classList.remove("active"),o[n-1].classList.remove("animate"),o[n].classList.add("active"),o[n].classList.add("animate"),n!==o.length?o[n-1].classList.add("active"):o[n-1].classList.add("invise"),o[n+1]&&(o[n+1].classList.remove("active"),o[n+1].classList.add("invise")),d(n)):n=n,n}function r(){return n-1!=-1?(n--,o[n].classList.remove("invise"),o[n].classList.add("animate"),o[n].classList.add("active"),o[n+1].classList.remove("animate"),o[n+1].classList.remove("active"),o[n+1].classList.add("invise"),d(n)):n=n,n}function u(){n===o.length-2?$("html,body").animate({scrollTop:o[n].offsetTop-(document.documentElement.clientHeight-o[n].clientHeight)/2,behavior:"smooth"},800,(()=>{setTimeout((()=>{}),t)})):$("html,body").animate({scrollTop:o[n].offsetTop,behavior:"smooth"},800,(()=>{setTimeout((()=>{}),t)}))}function m(n,i,s){e||0===o[2].offsetTop||(e=!0,0!==i?(n.preventDefault(),setTimeout((function(){e=!1}),t)):e=!1,i>0&&0===s?(f(),u()):i<0&&0===s&&(r(),u()))}window.addEventListener("wheel",(function(e){if(i.classList.contains("open")||s.classList.contains("open"))return!1;if(document.documentElement.clientWidth>=1366){let t=e.deltaY,n=e.deltaX,i=o[o.length-1].offsetTop;pageYOffset>i-10&&0!==i?t<0&&0===n&&(e.preventDefault(),m(e,t,n)):(0!==t&&e.preventDefault(),m(e,t,n))}}),{passive:!1});let h=0,p=0;function v(e){if(i.classList.contains("open")||s.classList.contains("open"));else{let t=o[o.length-1].offsetTop,n=e.changedTouches[0].clientY-h,i=e.changedTouches[0].clientX-p;if((i>50||i<-50)&&n<50&&n>-50);else{if(!(pageYOffset>t-10&&0!==t))return e.preventDefault(),e.stopPropagation(),!1;if(n>0)return e.preventDefault(),e.stopPropagation(),!1}}}function L(e){return h=e.changedTouches[0].clientY,p=e.changedTouches[0].clientX,!1}function g(e){if(i.classList.contains("open")||s.classList.contains("open"))return!1;let t=e.changedTouches[0].clientY-h,n=e.changedTouches[0].clientX-p;if(0!==t&&0!==n){let i=o[o.length-1].offsetTop;pageYOffset<i-10&&0!==i?t<50&&t>-50?e.preventDefault():w(e,t,n):t>0&&w(e,t,n)}}function T(){document.documentElement.clientWidth>=1366?(window.addEventListener("touchmove",v,{passive:!1}),window.addEventListener("touchstart",L,{passive:!1}),window.addEventListener("touchend",g,{passive:!1})):(window.removeEventListener("touchmove",v),window.removeEventListener("touchstart",L),window.removeEventListener("touchend",g))}function w(t,i,s){if(!e&&0!==o[2].offsetTop){if(e=!0,i>30||i<-30?(t.preventDefault(),setTimeout((function(){e=!1}),400)):e=!1,i<-30)return f(),u(),n;i>30&&(r(),u())}}T(),window.addEventListener("resize",T),window.addEventListener("scroll",(e=>{e.preventDefault(),n!==o.length-1&&document.documentElement.clientWidth>=1366&&(n===o.length-2?window.scrollTo(0,o[n].offsetTop-(document.documentElement.clientHeight-o[n].clientHeight)/2):window.scrollTo(0,o[n].offsetTop))}));let E=0,y=0;window.addEventListener("scroll",(e=>{if(document.documentElement.clientWidth<1366){let e=window.pageYOffset||document.documentElement.scrollTop;if(e>E){if(pageYOffset>o[o.length-2].offsetTop)return n=o.length-1,o[n].classList.add("animate"),o[n].classList.add("active"),n;if(o[y+1]&&pageYOffset+document.documentElement.clientHeight>o[y+1].offsetTop+o[y+1].clientHeight/10-10)return y+=1,n=y,o[n].classList.add("animate"),o[n].classList.add("active"),y}else{if(pageYOffset<o[1].offsetTop)return n=0,o[n].classList.add("animate"),o[n].classList.add("active"),n;if(o[y-1]&&pageYOffset-document.documentElement.clientHeight<o[y-1].offsetTop+o[y-1].clientHeight/10-10)return y-=1,n=y,o[n].classList.add("animate"),o[n].classList.add("active"),console.log(n,"4"),y}return E=e<=0?0:e}}));let Y=document.documentElement.clientWidth,b=document.documentElement.clientHeight;window.addEventListener("resize",(()=>{if(console.log(n),document.documentElement.clientWidth!==Y&&document.documentElement.clientHeight!==b)return o[n].classList.add("active"),window.scrollTo(0,o[n].offsetTop),Y=document.documentElement.clientWidth,b=document.documentElement.clientHeight}));const k=document.querySelector(".arrow__up");["click","touchend"].forEach((e=>k.addEventListener(e,(()=>(n=0,$("html,body").animate({scrollTop:o[n].offsetTop,behavior:"smooth"},800),n))))),document.querySelectorAll(".header__nav__items li").forEach((e=>{let t=e.getAttribute("data-nav"),i=e.getAttribute("data-counter");["click","touchend"].forEach((s=>e.addEventListener(s,(()=>{n=+i,document.querySelector("html").classList.remove("lock"),o.forEach((e=>{e.classList.add("active")})),$("html,body").animate({scrollTop:document.querySelector(`.${t}`).offsetTop,behavior:"smooth"},800),setTimeout((()=>{o[n].classList.add("animate"),d(n)}),800)}),!1)))})),document.onkeydown=function(t){if(document.documentElement.clientWidth>=1366){if(32===t.keyCode&&t.target===document.body){let n=o[o.length-1].offsetTop;if(pageYOffset>n-10&&0!==n);else if(i.classList.contains("open")||s.classList.contains("open"));else{if(e||0===o[2].offsetTop)return void t.preventDefault();e=!0,setTimeout((function(){e=!1}),700),f(),u()}}if("38"==t.keyCode){let n=o[o.length-1].offsetTop;if(pageYOffset>n-10&&0!==n);else if(i.classList.contains("open")||s.classList.contains("open"));else{if(e||0===o[2].offsetTop)return void t.preventDefault();e=!0,setTimeout((function(){e=!1}),700),r(),u()}}else if("40"==t.keyCode){let n=o[o.length-1].offsetTop;if(pageYOffset>n-10&&0!==n);else if(i.classList.contains("open")||s.classList.contains("open"));else{if(e||0===o[2].offsetTop)return void t.preventDefault();e=!0,setTimeout((function(){e=!1}),700),f(),u()}}}}})();